(window.webpackJsonp=window.webpackJsonp||[]).push([[47],{235:function(t,s,a){"use strict";a.r(s);var e=a(0),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"installing"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installing","aria-hidden":"true"}},[t._v("#")]),t._v(" Installing")]),t._v(" "),a("p",[t._v("Maelstrom comes in 2 parts:")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("Laravel Toolkit")]),t._v(" - provided by Composer")]),t._v(" "),a("li",[a("strong",[t._v("Javascript Components")]),t._v(" - provided by NPM")])]),t._v(" "),a("h2",{attrs:{id:"quick-start"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#quick-start","aria-hidden":"true"}},[t._v("#")]),t._v(" Quick Start")]),t._v(" "),a("p",[t._v("We recommend you take the time to read the below "),a("a",{attrs:{href:"#fresh-install"}},[t._v("Fresh Install")]),t._v(" as it will help you understand reasoning behind things, however if you already know what it says, then here is a command to help you move faster, by installing all the required packages and scaffolding you some files.")]),t._v(" "),a("p",[t._v("The following will publish a basic:")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("resources/sass/maelstrom.css")])]),t._v(" "),a("li",[a("code",[t._v("resources/js/maelstrom.js")])]),t._v(" "),a("li",[a("code",[t._v("babel.config.js")])]),t._v(" "),a("li",[a("code",[t._v("webpack.mix.js")])])]),t._v(" "),a("p",[t._v("If any of these files already exist, then you'll need to manually populate them, or if you don't need them - just delete them and run the command!")]),t._v(" "),a("div",{staticClass:"danger custom-block"},[a("ul",[a("li",[t._v("This assumes you're on a clean fresh Laravel project with the .env and database setup")]),t._v(" "),a("li",[t._v("We recommend only running this if you know what you're doing on a new project as it deletes some of your existing files")]),t._v(" "),a("li",[t._v("Consider changing some of the commands to suit your project.")]),t._v(" "),a("li",[t._v("This will delete your existing "),a("code",[t._v("webpack.mix.js")]),t._v(" and "),a("code",[t._v("babel.config.js")]),t._v(".")]),t._v(" "),a("li",[t._v("Not recommended for existing projects.")])])]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i @maelstrom-cms/toolkit -D "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\ncomposer require maelstrom-cms/toolkit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -f webpack.mix.js "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -f babel.config.js "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\nphp artisan vendor:publish --tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("maelstrom-stubs "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\nphp artisan vendor:publish --tag"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("maelstrom-config "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" run dev "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" \\\nphp artisan migrate\n")])])]),a("p",[t._v("This should have dangerously created some boilerplate for you so you can get started straight away.")]),t._v(" "),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("If you run into problems with "),a("code",[t._v("cross-env")]),t._v(" try "),a("code",[t._v("npm install cross-env")]),t._v(".")])]),t._v(" "),a("h2",{attrs:{id:"fresh-install"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fresh-install","aria-hidden":"true"}},[t._v("#")]),t._v(" Fresh Install")]),t._v(" "),a("p",[t._v("Firstly we need to install the 2 Maelstrom components...")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("composer require maelstrom-cms/toolkit\n")])])]),a("p",[t._v("and")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i @maelstrom-cms/toolkit -D\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or with yarn")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" @maelstrom-cms/toolkit -D\n")])])]),a("div",{staticClass:"warning custom-block"},[a("p",[t._v("Depending on your build process, you may need to tweak the below, or use alternative methods, as Mix skips compiling of packages within "),a("code",[t._v("node_modules")]),t._v(" we've created some work arounds.")])]),t._v(" "),a("h3",{attrs:{id:"javascript"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#javascript","aria-hidden":"true"}},[t._v("#")]),t._v(" Javascript")]),t._v(" "),a("p",[t._v("As React uses various features that requires Babel to transpile your javascript, you'll need to tell Babel that you're using React. You can do this with a "),a("code",[t._v("babel.config.js")]),t._v(" in the root of your project, the following contents will work for Maelstrom.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// babel.config.js")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    plugins"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/proposal-class-properties'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    presets"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/preset-react'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("You are free to use what ever build/asset pipeline you like, however out of the box we use Laravel Mix, however as Mix bypasses transpilling of the "),a("code",[t._v("node_modules")]),t._v(" folder we need to bypass this bypass.")]),t._v(" "),a("h4",{attrs:{id:"via-the-vendor-folder"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#via-the-vendor-folder","aria-hidden":"true"}},[t._v("#")]),t._v(" via the /vendor folder.")]),t._v(" "),a("p",[t._v("If your build process has access to the composer "),a("code",[t._v("vendor")]),t._v(" folder - you can compile it via the composer path, otherwise you'll need to create a local entry file.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("react")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vendor/maelstrom-cms/toolkit/ui/js/maelstrom.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public/js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h4",{attrs:{id:"via-a-local-entry-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#via-a-local-entry-file","aria-hidden":"true"}},[t._v("#")]),t._v(" via a local entry file")]),t._v(" "),a("p",[t._v("This is a 2-pronged attack, where we create a new entry file, and then tell Mix that we want to compile it.")]),t._v(" "),a("p",[t._v("Create an entry file which includes Maelstrom e.g. "),a("code",[t._v("resources/js/maelstrom.js")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// resources/js/maelstrom.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@maelstrom-cms/toolkit'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Then we need to tell Mix that we want to compile it - We provide a helper to do this, although if you're already doing it for something else you'll need to make sure "),a("code",[t._v("@maelstrom-cms")]),t._v(" isn't excluded.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.mix.js")]),t._v("\nmix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("react")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'resources/js/maelstrom.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public/js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("webpackConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        rules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@maelstrom-cms/toolkit/js/support/DontIgnoreMaelstrom'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Now when you run "),a("code",[t._v("npm run dev")]),t._v(" it should compile okay!")]),t._v(" "),a("h3",{attrs:{id:"css-components"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-components","aria-hidden":"true"}},[t._v("#")]),t._v(" CSS Components")]),t._v(" "),a("p",[t._v("As Tailwind uses PostCSS to compile, you'll need to use a pipeline that supports that, with mix you can do this via the "),a("code",[t._v(".postCss")]),t._v(" method.")]),t._v(" "),a("h4",{attrs:{id:"via-the-vendor-folder-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#via-the-vendor-folder-2","aria-hidden":"true"}},[t._v("#")]),t._v(" via the /vendor folder.")]),t._v(" "),a("p",[t._v("If your build process has access to the composer "),a("code",[t._v("vendor")]),t._v(" folder - you can compile it via the composer path, otherwise you'll need to create a local entry file.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postCss")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vendor/maelstrom-cms/toolkit/ui/css/maelstrom.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public/css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'postcss-import'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tailwindcss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h4",{attrs:{id:"via-a-local-entry-file-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#via-a-local-entry-file-2","aria-hidden":"true"}},[t._v("#")]),t._v(" via a local entry file")]),t._v(" "),a("p",[t._v("If you do not have access to the "),a("code",[t._v("vendor")]),t._v(" directory you can create an entry file (you can put this file anywhere) - but it must end in "),a("code",[t._v(".css")]),t._v(" for PostCSS to work.")]),t._v(" "),a("p",[t._v("Create a "),a("code",[t._v(".css")]),t._v(" file with the following contents")]),t._v(" "),a("div",{staticClass:"language-css extra-class"},[a("pre",{pre:!0,attrs:{class:"language-css"}},[a("code",[a("span",{pre:!0,attrs:{class:"token atrule"}},[a("span",{pre:!0,attrs:{class:"token rule"}},[t._v("@import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@maelstrom-cms/toolkit/css/maelstrom.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")])]),t._v("\n")])])]),a("p",[t._v("Then load it into Mix")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("mix"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("postCss")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'resources/sass/maelstrom.css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'public/css'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'postcss-import'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tailwindcss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("When you now run "),a("code",[t._v("npm run dev")]),t._v(" you should have a "),a("code",[t._v("maelstrom.css")]),t._v(" and "),a("code",[t._v("maelstrom.js")]),t._v(" inside your "),a("code",[t._v("public/js")]),t._v(" and "),a("code",[t._v("public/css")]),t._v(" folder.")]),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",[t._v("If you want to use a different output directory just make sure you update the "),a("code",[t._v("core_js_path")]),t._v(" and "),a("code",[t._v("core_css_path")]),t._v(" option in the "),a("code",[t._v("config/maelstrom.php")]),t._v(" later on.")])]),t._v(" "),a("h3",{attrs:{id:"php-components"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#php-components","aria-hidden":"true"}},[t._v("#")]),t._v(" PHP Components")]),t._v(" "),a("p",[t._v("There is not much you need to do to set up the PHP side of things, you should however publish the config to change various things.")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("php artisan vendor:publish --tag maelstrom-config\nphp artisan vendor:publish --tag maelstrom-stubs\n")])])]),a("p",[t._v("If you're going to use the Media Manager then you'll need to run the migrations.")]),t._v(" "),a("div",{staticClass:"language-sh extra-class"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("php artisan migrate\n")])])]),a("h2",{attrs:{id:"adding-to-existing-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-to-existing-project","aria-hidden":"true"}},[t._v("#")]),t._v(" Adding to existing project")]),t._v(" "),a("p",[t._v("Just do the same as above!")])])},[],!1,null,null,null);s.default=n.exports}}]);